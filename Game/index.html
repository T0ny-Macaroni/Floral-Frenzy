<!DOCTYPE html>
<html lang="en" >
<head>
  <meta charset="UTF-8">
  <title>Floral Frenzy</title>
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bulma@0.9.4/css/bulma.min.css">
  <link rel="stylesheet" href="./style.css">
  <link rel="stylesheet" href="../Chat/chat.css">

</head>
<body>
<!-- partial:index.partial.html -->
<script type="text/javascript" src="http://code.jquery.com/jquery-1.8.0.min.js"></script>
<script type="text/javascript">
$(document).ready(function() {
	initBoard();
});
</script>

<section class="hero">
  <div class="hero-body">
    <p class="title">
      Floral Frenzy
    </p>
    <p class="subtitle">
      The worms have taken over – it’s a global worming!
    </p>
  </div>
</section>

<div  class="columns">
  <div id="game" class="column">
    <!-- First Column -->
    <div id="score">Score <span>0</span></div>
    <div id="health">
        <div id="hp">
            <div id="remaining-hp"></div>
        </div>
    </div>
    <div id="board">
    <div></div>
    </div>
    <button class="button is-warning is-light">Reset Game</button>
    <button class="button is-info is-light">Save Score</button>
    <div id="game-over">
    GAME OVER
    </div>
  </div>

  <div class="column is-one-third">
    <div id="chat">
    
    Messages
    <!--FireBase chat Inputs-->
    <!-- form to send message -->
    <ul id="messages"></ul>

    <form id="message-form">
      <input id="message-input" type="text" />
      <button id="message-btn" type="submit">Send</button>
  </form>
</div>
<div>
  <table id="scoreTable">
    <tr>
      <th>Player</th>
      <th>Score</th>
    </tr>
  </table>
  <script>
    // Function to append score from localStorage to table
    function appendScoreToTable() {
      // Retrieve score from localStorage
      const score = localStorage.getItem('score');

      // Check if score exists in localStorage
      if (score !== null) {
        const table = document.getElementById('scoreTable');

        // Create a new row for the table
        const newRow = table.insertRow();

        // Create cells for player name and score
        const playerNameCell = newRow.insertCell(0);
        const scoreCell = newRow.insertCell(1);

        // Set the player name and score in the cells
       playerName =  localStorage.getItem('username')
        playerNameCell.innerHTML = `${playerName}`; // You can set the player name dynamically if needed
        scoreCell.innerHTML = score;
      }
    }

    // Call the function to append the score to the table
    appendScoreToTable();
</script>
    </div>

  <!-- scripts -->
  <script src="https://www.gstatic.com/firebasejs/8.2.1/firebase-app.js"></script>
  <script src="https://www.gstatic.com/firebasejs/8.2.1/firebase-database.js"></script>
  <script src="./chat.js"></script>

</div>
<!-- partial -->
  <script  src="./script.js"></script>

</body >


</html>
